webpackJsonp([1],{"7/BW":function(t,e){},NHnr:function(t,e,a){"use strict";function r(t){a("lrF0")}function n(t){a("qdeE"),a("gji0")}function s(t){a("7/BW")}function o(t){a("Tfy/"),a("V2wL")}Object.defineProperty(e,"__esModule",{value:!0});var i=a("mvHQ"),l=a.n(i),c=a("7+uW"),u={name:"app",methods:{handler:function(t){this.$router.push(t)}}},p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("mdc-layout-app",[a("mdc-toolbar",{attrs:{slot:"toolbar",fixed:""},slot:"toolbar"},[a("mdc-toolbar-row",[a("mdc-toolbar-section",{attrs:{"align-start":""}},[a("mdc-toolbar-menu-icon",{attrs:{event:"toggle-drawer"}}),t._v(" "),a("mdc-toolbar-title",[t._v("Epargne -  "+t._s(t.$route.name))])],1)],1)],1),t._v(" "),a("mdc-drawer",{attrs:{slot:"drawer","toggle-on":"toggle-drawer"},slot:"drawer"},[a("mdc-drawer-list",[a("mdc-drawer-item",{attrs:{"start-icon":"inbox"},on:{click:function(e){return t.handler("/")}}},[t._v("Config")]),t._v(" "),a("mdc-drawer-item",{attrs:{"start-icon":"send"},on:{click:function(e){return t.handler("/projets")}}},[t._v("Projets")])],1)],1),t._v(" "),a("main",{staticClass:"content"},[a("router-view")],1)],1)],1)},d=[],f={render:p,staticRenderFns:d},v=f,h=a("VU/8"),g=r,m=h(u,v,!1,g,null,null),b=m.exports,_=a("/ocq"),x={name:"home",data:function(){return{sliderValue:0,config:this.$globalStore.config}},methods:{kk:function(t){this.sliderValue!=t?console.log(t):console.log("no")}},watch:{sliderValue:function(t,e){this.$set(this.$globalStore.config,"months",t)}}},S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"BJlsH4RW58"}},[a("div",{staticClass:"Hkl0oNC-cU"},[a("mdc-textfield",{staticStyle:{"text-align":"center"},attrs:{"trailing-icon":"euro",label:"Epargne Actuelle",value:"0",type:"text",rows:"100",cols:"100"},model:{value:t.config.epargne,callback:function(e){t.$set(t.config,"epargne",e)},expression:"config.epargne"}}),t._v(" "),a("mdc-textfield",{staticStyle:{"margin-top":"100px","text-align":"center"},attrs:{"trailing-icon":"euro",label:"Epargne / mois",value:"100",type:"text",rows:"100",cols:"100"},model:{value:t.config.epargnePerMonth,callback:function(e){t.$set(t.config,"epargnePerMonth",e)},expression:"config.epargnePerMonth"}}),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" Ajouter mois : "),a("mdc-slider",{attrs:{min:"0",max:"12",step:"1","display-markers":""},model:{value:t.sliderValue,callback:function(e){t.sliderValue=e},expression:"sliderValue"}})],1)])},$=[],y={render:S,staticRenderFns:$},C=y,k=a("VU/8"),w=n,I=k(x,C,!1,w,"data-v-486a7515",null),O=I.exports,M={name:"projets",data:function(){return{cards:this.$globalStore.cards,config:this.$globalStore.config}},beforeMount:function(){0!=this.config.months&&(console.log("UPDADE"),this.updateCards())},computed:{soldes:function(){return this.cards.map(function(t){return parseFloat(t.solde)}).reduce(function(t,e){return t+e},0)+"€ Épargné"},total:function(){return this.cards.map(function(t){return parseFloat(t.max)}).reduce(function(t,e){return t+e},0)+"€ But Total"},epargne:function(){return this.cards.filter(function(t){return"rien"!=t.epargneOpts.epargne}).map(function(t){return parseFloat(t.epargneOpts.meta.valeurMensualite)}).reduce(function(t,e){return t+e},0)+"€ À Épargné par mois "}},methods:{sub:function(t){var e=parseInt(t)||0,a="rien"!=this.cards[e].epargneOpts.epargne?"\n[Epargne : "+this.cards[e].epargneOpts.meta.valeurMensualite+"€/Mois]":"";return this.cards[e].solde+"€/"+this.cards[e].max+"€ ("+Math.round(100*(parseFloat(this.cards[e].solde/parseInt(this.cards[e].max)||0)||0))+"%) "+a},add:function(){this.cards.push({title:"newProject",solde:0,max:0,activation:!0})},sup:function(t){var e=parseInt(t)||0;this.$globalStore.cards.splice(e,1)},modify:function(t){console.log(t),this.$router.push("projet/"+t)},updateCards:function(){var t=this,e=this.cards.map(function(e,a){return t.updateCard(a)});this.$set(this.$globalStore.cards,e),this.$set(this.$globalStore.config,"months",0)},updateCard:function(t){console.log(this.cards,t,this.cards[t]);var e=this.cards[t];return e.epargneOpts?console.log("epargne "+e.title):console.log("nothing to do "+e.title),e}}},F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"SJO6HRbqI"}},[a("div",{staticStyle:{position:"absolute",top:"5px",left:"50%","font-size":"50px",transform:"translateX(-50%)"}},[t._v("Projets")]),t._v(" "),a("div",{staticStyle:{position:"absolute",top:"65px",left:"50%","font-size":"30px",transform:"translateX(-50%)"}},[t._v(t._s(t.soldes))]),t._v(" "),a("div",{staticStyle:{position:"absolute",top:"95px",left:"50%","font-size":"30px",transform:"translateX(-50%)"}},[t._v(t._s(t.total))]),t._v(" "),a("div",{staticStyle:{position:"absolute",top:"125px",left:"50%","font-size":"30px",transform:"translateX(-50%)",color:"green"}},[t._v(t._s(t.epargne))]),t._v(" "),a("div",{staticStyle:{position:"absolute",top:"155px",left:"50%","font-size":"30px",transform:"translateX(-50%)",color:"blue"}},[t._v(t._s(t.$globalStore.config.epargne)+"€ déja épargné ")]),t._v(" "),a("div",{staticClass:"cards"},[a("div",{staticClass:"rJUmICb9I"},[a("mdc-button",{staticClass:"S16NL0WcU",attrs:{raised:""},on:{click:t.add}},[t._v("+")])],1),t._v(" "),t._l(t.cards,function(e,r){return a("mdc-card",{staticClass:"r1rqyUC-cU"},[a("mdc-card-media",{staticClass:"SyI9JIRZ5I",attrs:{height:"160",src:"https://material-components-web.appspot.com/images/16-9.jpg"}}),t._v(" "),a("mdc-card-header",{staticClass:"Syv5JL0-qU",attrs:{title:e.title,subtitle:t.sub(r)}}),t._v(" "),a("mdc-card-actions",{staticClass:"rJdckLRZ9L"},[a("mdc-card-action-button",{staticClass:"BJtqyLAW5I",on:{click:function(e){return t.modify(r)}}},[t._v("Voir/Modifier")]),t._v(" "),a("mdc-card-action-button",{staticClass:"BJtqyLAW5I",on:{click:function(e){return t.sup(r)}}},[t._v("Supprimer")])],1)],1)})],2)])},q=[],L={render:F,staticRenderFns:q},B=L,A=a("VU/8"),P=s,J=A(M,B,!1,P,"data-v-3de538d6",null),R=J.exports,U=a("Dd8w"),j=a.n(U),T={name:"projet",mounted:function(){var t=this;"a"==this.epargne&&setTimeout(function(e){t.$nextTick(function(){return t.changeText()})},0)},methods:{editSolde:function(){var t=this;this.modifyOK=!0,this.modif={label:"Solde",value:this.card.solde,ok:function(e){return t.card.solde=e},change:function(){t.$refs.okButton.disabled=parseInt((t.$refs.in||{value:0}).value)>parseInt(t.card.max)||t.checkEpargneDispo(parseInt(t.$refs.in.value),t.cardid)}},this.focus()},changedInterval:function(t){console.log("interval",this.$refs.interval.value,t),this.changeText()},changedFreq:function(){this.changeText()},changeText:function(){var t=this,e=this.$refs.interval.$refs.native_control,a=e.options[e.selectedIndex].value,r=e.options[e.selectedIndex].text,n=this.$refs.valeur.$refs.input.value;parseFloat(n)<1&&parseFloat(n)>0&&(n=Math.round(this.$globalStore.config.epargnePerMonth*parseFloat(n)));var s=this.$refs.freq.$refs.input.value,o=s;1==s&&(o="");var i=this.$globalStore.cards.slice();i.splice(this.cardid,1);var l=i.filter(function(t){return"rien"!=t.epargneOpts.epargne}).map(function(t){return t.epargneOpts}).map(function(e){return t.calculeMensualite(e.valeur,e.frequence,e.interval)}).reduce(function(t,e){return t+e},0);this.$set(this,"text",n+"€ par "+o+" "+r+"=> "+this.calculeMensualite(n,s,a)+"€ par Mois (Epargne/Mois : "+this.$globalStore.config.epargnePerMonth+"€, Il reste : "+(parseFloat(this.$globalStore.config.epargnePerMonth)-parseFloat(l))+"€)")},checkval:function(t,e){var a=this;"Validé"==this.$refs.okButtonA.firstChild.data&&(this.$refs.okButtonA.firstChild.data="OK");var r=this.$refs.valeur.$refs.input.value;parseFloat(r)<1&&parseFloat(r)>0?this.tl="%":this.tl="euro",this.changeText();var n=parseFloat(this.$refs.valeur.$refs.input.value);n<1&&n>0&&(n=Math.round(this.$globalStore.config.epargnePerMonth*parseFloat(n)));var s=this.$globalStore.cards.slice(),o=this.$refs.interval.$refs.native_control,i=o.options[o.selectedIndex].value;o.options[o.selectedIndex].text;s.splice(this.cardid,1);var l=s.filter(function(t){return"rien"!=t.epargneOpts.epargne}).map(function(t){return t.epargneOpts}).map(function(t){return a.calculeMensualite(t.valeur,t.frequence,t.interval)}).reduce(function(t,e){return t+e},0)+this.calculeMensualite(n,this.$refs.freq.$refs.input.value,i);this.$refs.okButtonA.disabled=parseInt(this.$globalStore.config.epargnePerMonth)<parseInt(l)},calculeMensualite:function(t,e,a){var r=t;return r<1&&r>0&&(t=Math.round(this.$globalStore.config.epargnePerMonth*parseFloat(r))),console.log(t,e,a),"a"==a?31/e*t:"b"==a?4/e*t:t/e},okA:function(){var t=this.$refs.interval.$refs.native_control,e=t.options[t.selectedIndex].value,a=(t.options[t.selectedIndex].text,this.$refs.valeur.$refs.input.value);this.card.epargneOpts.epargne="a",this.card.epargneOpts.frequence=this.$refs.freq.$refs.input.value,this.card.epargneOpts.interval=e,this.card.epargneOpts.valeur=a,this.card.epargneOpts.meta={valeurMensualite:this.calculeMensualite(a,this.$refs.freq.$refs.input.value,e)},console.log(this.$refs.okButtonA),this.$refs.okButtonA.firstChild.data="Validé"},changeActivation:function(t){console.log(t),this.$set(this.card,"activation",t),this.focus()},editMax:function(){var t=this;this.modifyOK=!0,this.modif={label:"But",value:this.card.max,ok:function(e){return t.card.max=e}},this.focus()},changeTitle:function(){var t=this;this.modifyOK=!0,this.modif={label:"Title",value:this.card.title,ok:function(e){return t.card.title=e}},this.focus()},changeEpargne:function(){this.epargne=this.$refs.epargne.$refs.native_control.value,this.changeText()},focus:function(){var t=this;setTimeout(function(e){t.$nextTick(function(){return t.$refs.in.focus()})},0)},checkEpargneDispo:function(t,e){var a=this.$globalStore.cards.slice();return a.splice(e,1),console.log(a.map(function(t){return parseInt(t.solde)}).reduce(function(t,e){return t+e},0)+t,parseInt(this.$globalStore.config.epargne)),a.map(function(t){return parseInt(t.solde)}).reduce(function(t,e){return t+e},0)+t>(parseInt(this.$globalStore.config.epargne)||1e11)}},data:function(){return{modifyOK:!1,text:"",tl:"euro",epargne:(this.$globalStore.cards[this.$route.params.id].epargneOpts||{}).epargne,modif:{label:"",value:""},cardid:this.$route.params.id,card:j()({title:"Default",solde:0,max:100,activation:!0,epargneOpts:{epargne:"rien",frequence:1,interval:"a",valeur:"0"}},this.$globalStore.cards[this.$route.params.id])}},computed:{pg:function(){return parseFloat(this.card.solde/this.card.max)||0},months:function(){return"("+(this.card.months||0)+" months)"}},watch:{card:{handler:function(t,e){this.$set(this.$globalStore.cards,parseInt(this.cardid),t)},deep:!0}}},E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.modifyOK?a("div",{staticStyle:{width:"100%",height:"100vh","text-align":"center",top:"0px",position:"absolute","background-color":"rgba(0,0,0,0.5  )","z-index":"1000000000"}},[a("span",{staticStyle:{position:"absolute",top:"5px",color:"white",left:"5px",width:"20px","font-size":"40px"},on:{click:function(e){t.modifyOK=!1}}},[t._v("X")]),t._v(" "),a("div",{staticStyle:{"text-align":"center",top:"50%",position:"absolute",left:"50%",transform:"translateX(-100%) translateY(-50%)"}},[a("span",{staticStyle:{"font-size":"50px","font-weight":"bold",color:"white"}},[t._v(t._s(t.modif.label))]),a("br"),t._v(" "),a("input",{ref:"in",staticClass:"SkMxvRbqL2",attrs:{type:t.modif.type||"text",autofocus:"true",overflow:"hidden","text-overflow":"ellipsis"},domProps:{value:t.modif.value},on:{input:t.modif.change}}),t._v(" "),a("br"),a("br"),t._v(" "),a("button",{ref:"okButton",staticStyle:{width:"100px",height:"50px","margin-left":"-20px"},on:{click:function(e){t.modifyOK=!1,t.modif.ok(t.$refs.in.value)}}},[t._v(" OK ")])])]):t._e(),t._v(" "),a("div",{attrs:{id:"rywc8AWcL"}},[a("span",{staticStyle:{position:"absolute",left:"0%",top:"0px","font-size":"50px",color:"rgb(83, 58, 183)"},on:{dblclick:t.changeTitle}},[t._v(t._s(t.card.title)+" "+t._s(t.months))]),t._v(" "),a("mdc-switch",{staticClass:"SygLSwRbqI",attrs:{"align-end":"",label:"Activation",checked:t.card.activation},on:{change:t.changeActivation}}),t._v(" "),a("div",{staticStyle:{"margin-top":"80px"}},[a("div",{staticStyle:{display:"flex"}},[a("span",{staticClass:"BJfnwR-9U"},[t._v("Solde")]),a("span",{staticClass:"SkMxvRbqL noSelect",on:{dblclick:t.editSolde}},[t._v(t._s(t.card.solde)+"€")]),a("mdc-linear-progress",{staticClass:"HJgu2I0ZqU",attrs:{open:"",progress:t.pg,buffer:"1"}}),t._v(" "),a("span",{staticClass:"SyhyOR-qL noSelect",on:{dblclick:t.editMax}},[t._v(t._s(t.card.max)+"€ ("+t._s(Math.round(100*t.pg))+"%)")])],1)]),t._v(" "),a("div",{staticClass:"kk"},[a("hr",{staticStyle:{"margin-top":"100px","border-color":"rgb(83, 58, 183)","margin-left":"-200px",width:"100%"}}),t._v(" "),a("mdc-select",{ref:"epargne",staticClass:"SJXBnuA-qU",staticStyle:{width:"500px","font-size":"30px !important","margin-top":"50px"},attrs:{label:"Options d'épargne",value:t.card.epargneOpts.epargne},on:{change:t.changeEpargne}},[a("optgroup",{attrs:{label:""}},[a("option",{staticClass:"SJLB2d0b9L",attrs:{value:"rien"}},[t._v("Pas d'option")]),t._v(" "),a("option",{staticClass:"Sk4BnORb5U",attrs:{value:"a"}},[t._v("Somme/Pourcentage par interval")])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"a"==t.epargne,expression:"epargne=='a'"}]},[a("mdc-textfield",{ref:"valeur",staticStyle:{"margin-top":"100px","text-align":"center"},attrs:{"trailing-icon":t.tl,label:"Somme à épargner",value:t.card.epargneOpts.valeur,type:"number",rows:"100",cols:"100"},on:{input:t.checkval}}),t._v(" "),a("mdc-textfield",{ref:"freq",staticStyle:{"margin-top":"100px","text-align":"center"},attrs:{label:"Fréquence",value:t.card.epargneOpts.frequence,type:"number",rows:"100",cols:"100"},on:{change:t.changedFreq}}),t._v(" "),a("mdc-select",{ref:"interval",staticClass:"Hkt8FRWqL",attrs:{label:"Interval",value:t.card.epargneOpts.interval},on:{change:t.changedInterval}},[a("option",{staticClass:"S1eFLtCZ5I",attrs:{value:"a"}},[t._v("Jours")]),t._v(" "),a("option",{staticClass:"HyZFLFRZ9L",attrs:{value:"b"}},[t._v("Semaines")]),t._v(" "),a("option",{staticClass:"SyfKIK0-cU",attrs:{value:"c"}},[t._v("Mois")])]),t._v(" "),a("br"),t._v(" "),a("span",[t._v(t._s(this.text))]),t._v(" "),a("br"),a("br"),t._v(" "),a("button",{ref:"okButtonA",staticStyle:{width:"100px",height:"50px","margin-left":"-20px"},on:{click:t.okA}},[t._v(" OK ")])],1),t._v(" "),a("div",{staticStyle:{display:"none"}},[a("input",{staticClass:"BJi5_CZ9I",attrs:{value:"",placeholder:"placeholder",overflow:"hidden","text-overflow":"ellipsis"}}),t._v(" "),a("span",{staticClass:"HJDWtC-5L"},[t._v("Somme par mois")]),t._v(" "),a("input",{staticClass:"B1umK0-5U",attrs:{value:"",placeholder:"placeholder",overflow:"hidden","text-overflow":"ellipsis"}}),t._v(" "),a("span",{staticClass:"HyxOmFCW5L"},[t._v("Pourcentage par mois")]),t._v(" "),a("mdc-select",{staticClass:"Hkt8FRWqL",attrs:{label:"Priorité",value:"a"}},[a("option",{staticClass:"S1eFLtCZ5I",attrs:{value:"a"}},[t._v("Option A")]),t._v(" "),a("option",{staticClass:"HyZFLFRZ9L",attrs:{value:"b"}},[t._v("Option B")]),t._v(" "),a("option",{staticClass:"SyfKIK0-cU",attrs:{value:"c"}},[t._v("Option C")])])],1)],1)],1)])},K=[],V={render:E,staticRenderFns:K},H=V,W=a("VU/8"),z=o,Z=W(T,H,!1,z,"data-v-4c3099fb",null),X=Z.exports;c.a.use(_.a);var D=new _.a({routes:[{path:"/",name:"Config",component:O},{path:"/projets",name:"Projets",component:R},{path:"/projet/:id",name:"projet",component:X}]}),N=a("n6Cl");a.d(e,"globalStore",function(){return Q}),c.a.config.productionTip=!1,c.a.use(N.a),c.a.filter("toStr",function(t){return t+""});var Q=new c.a({data:{cards:JSON.parse(localStorage.getItem("cards"))||[],config:JSON.parse(localStorage.getItem("config"))||{epargne:"0",epargnePerMonth:"100"}},watch:{cards:{handler:function(t){localStorage.setItem("cards",l()(t))},deep:!0},config:{handler:function(t){localStorage.setItem("config",l()(t))},deep:!0}}});c.a.prototype.$globalStore=Q,new c.a({el:"#app",router:D,template:"<App/>",components:{App:b}})},"Tfy/":function(t,e){},V2wL:function(t,e){},gji0:function(t,e){},lrF0:function(t,e){},qdeE:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.fd1846f8ef418eda66f2.js.map